<html>
<head>
	<script src="calabash.min.js"></script>
	<script src="fontificate.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
</head>
<body>
	<div id="drop_zone" style="border: 2px dashed #bbb; padding: 25px; text-align: center;">
		Drop .ttf files here
	</div>
	<div>
		<ul id="output"/>
	</div>
	<br/>
	<center><h1>I hacked this together in an evening.  Documentation to come.  Look at the source.</h1><center>

<script>
	var nameLabels =
	['Copyright notice','Font family','Font subfamily','Subfamily identifier','Full name', 'Version',
	'Postscript name','Trademark notice','Manufacturer name','Designer','Description','Vendor Url',
	'Designer Url','License'];
	function handleDragOver(evt) {
		evt.stopPropagation();
		evt.preventDefault();
		evt.dataTransfer.dropEffect = 'copy';
	}
	function handleFileSelect(evt) {
		evt.stopPropagation();
		evt.preventDefault();
		var files = evt.dataTransfer.files;
		for (var i = 0, f; f = files[i]; i++) {
			fontificate(f)
			.then(function(thefont) {
				var names = thefont.getNamesForLanguage(0);
				$('#output').empty();
				names.forEach(function(record) {
					if (record.nameID <= 13) {
						var label = nameLabels[record.nameID] + ': ' + record.text;
						$('#output').append($('<li/>').text(label));
					}
				});
			}, function(reason) {
				alert(reason);
			});
		}
		return false;
	}
	var dropZone = document.getElementById('drop_zone');
	dropZone.addEventListener('dragover', handleDragOver, false);
	dropZone.addEventListener('drop', handleFileSelect, false);
</script>
</body>
</html>